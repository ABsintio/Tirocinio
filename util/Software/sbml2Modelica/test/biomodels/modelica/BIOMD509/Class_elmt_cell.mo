within BIOMD509;
class Class_elmt_cell

    input Real elmt_p5;
    input Real elmt_ps;
    input Real elmt_m;
    input Real elmt_p3;
    input Real elmt_n;
    input Real elmt_p4;
    input Real elmt_k;
    input Real elmt_p1;
    input Real elmt_p2;
    input Real elmt_rt;
    input Real elmt_vdeg;
    input Real elmt_kkdeg;
    input Real elmt_g;
    input Real elmt_f;
    input Real elmt_addash;
    input Real elmt_px;
    input Real elmt_pe;
    input Real elmt_rhstar;
    input Real elmt_pd;
    input Real elmt_dee;
    input Real elmt_vatp_s;
    input Real elmt_alpha;
    input Real elmt_ax;
    input Real elmt_af;
    input Real elmt_ae;
    input Real elmt_gf;
    input Real elmt_kdeg;
    input Real elmt_qx;
    input Real elmt_kr;
    input Real elmt_yo;
    input Real elmt_rscrit;
    input Real elmt_ip30;
    input Real elmt_ka;
    input Real elmt_qd;
    input Real elmt_qe;
    input Real elmt_scale;
    input Real elmt_ddd;
    input Real elmt_dxx;
    input Real elmt_ip3min;
    input Real elmt_gamma;
    input Real elmt_ymax;
    input Real elmt_krel;
    input Real elmt_kd;

    Real elmt_cell(unit = "") "";
    Real elmt_gstar_conc(unit = "");
    Real elmt_gstar_amount(unit = "");
    Real elmt_gstar(unit = "") "";
    Real elmt_ad_conc(unit = "");
    Real elmt_ad_amount(unit = "");
    Real elmt_ad(unit = "") "";
    Real elmt_rs_conc(unit = "");
    Real elmt_rs_amount(unit = "");
    Real elmt_rs(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_ip3con_conc(unit = "");
    Real elmt_ip3con_amount(unit = "");
    Real elmt_ip3con(unit = "") "";
    Real elmt_e_conc(unit = "");
    Real elmt_e_amount(unit = "");
    Real elmt_e(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_atp_conc(unit = "");
    Real elmt_atp_amount(unit = "");
    Real elmt_atp(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_d_conc(unit = "");
    Real elmt_d_amount(unit = "");
    Real elmt_d(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_rscon_conc(unit = "");
    Real elmt_rscon_amount(unit = "");
    Real elmt_rscon(unit = "") "";
    Real elmt_y_conc(unit = "");
    Real elmt_y_amount(unit = "");
    Real elmt_y(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_ro_conc(unit = "");
    Real elmt_ro_amount(unit = "");
    Real elmt_ro(unit = "") "";
    Real elmt_x_conc(unit = "");
    Real elmt_x_amount(unit = "");
    Real elmt_x(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_ca_conc(unit = "");
    Real elmt_ca_amount(unit = "");
    Real elmt_ca(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_kg_conc(unit = "");
    Real elmt_kg_amount(unit = "");
    Real elmt_kg(unit = "") "";
    Real elmt_ip3_conc(unit = "");
    Real elmt_ip3_amount(unit = "");
    Real elmt_ip3(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_r_conc(unit = "");
    Real elmt_r_amount(unit = "");
    Real elmt_r(unit = "") "";
 annotation(Documentation(info="<annotation>
          <rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:bqmodel=\"http://biomodels.net/model-qualifiers/\" xmlns:bqbiol=\"http://biomodels.net/biology-qualifiers/\">
	
          </rdf:RDF>
        </annotation>"));
    Real elmt_delta_conc(unit = "");
    Real elmt_delta_amount(unit = "");
    Real elmt_delta(unit = "") "";

    initial equation
        elmt_cell = 1.0;
        elmt_rs_conc = 1.1;
        elmt_e_conc = 1.0;
        elmt_atp_conc = 0.0;
        elmt_d_conc = 0.0;
        elmt_y_conc = 0.0;
        elmt_x_conc = 0.0;
        elmt_ip3_conc = 0.0;
        elmt_r_conc = 0.0;


    equation
        assert(elmt_cell >= 0, "Compartment size became negative. Make sure this is a valid bahaviour.");
        der(elmt_cell) = 0;
        elmt_gstar = elmt_gstar_conc;
        elmt_ad = elmt_ad_conc;
        elmt_rs = elmt_rs_conc;
        elmt_ip3con = elmt_ip3con_conc;
        elmt_e = elmt_e_conc;
        elmt_atp = elmt_atp_conc;
        elmt_d = elmt_d_conc;
        elmt_rscon = elmt_rscon_conc;
        elmt_y = elmt_y_conc;
        elmt_ro = elmt_ro_conc;
        elmt_x = elmt_x_conc;
        elmt_ca = elmt_ca_conc;
        elmt_kg = elmt_kg_conc;
        elmt_ip3 = elmt_ip3_conc;
        elmt_r = elmt_r_conc;
        elmt_delta = elmt_delta_conc;
        elmt_gstar_amount = ((elmt_ro + elmt_delta) / (elmt_kg + elmt_delta + elmt_ro)) * elmt_cell;
        elmt_ad_amount = (elmt_addash + (elmt_gamma * (elmt_ca - elmt_p1))) * elmt_cell;
        der(elmt_rs_amount / elmt_cell) = (((elmt_ps * (elmt_yo - elmt_rs) * elmt_r) - ((elmt_pd * elmt_rs * elmt_d) / (elmt_qd + elmt_rs + elmt_d))) - ((elmt_pe * elmt_rs * elmt_e) / (elmt_qe + elmt_rs + elmt_e)));
        elmt_ip3con_amount = ((tanh(((elmt_ip3 - elmt_ip3min) / 0.01)) + 1.0) / 2.0) * elmt_cell;
        der(elmt_e_amount / elmt_cell) = ((elmt_ae * (1.0 + (elmt_af * (elmt_yo - elmt_rs)))) - (elmt_dee * elmt_x * elmt_e));
        der(elmt_atp_amount / elmt_cell) = (elmt_scale * ((elmt_vatp_s * (elmt_y - elmt_atp) * elmt_rscon * elmt_ip3con * ((elmt_ip3 - elmt_ip3min) / (elmt_krel + elmt_ip3))) - ((elmt_vdeg * elmt_atp) / (elmt_kkdeg + elmt_atp))));
        der(elmt_d_amount / elmt_cell) = ((elmt_ad * ((elmt_k * elmt_gf) / (1.0 + (elmt_k * elmt_gf)))) - (elmt_ddd * elmt_e * elmt_d));
        elmt_rscon_amount = ((tanh(((elmt_rscrit - elmt_rs) / 0.01)) + 1.0) / 2.0) * elmt_cell;
        der(elmt_y_amount / elmt_cell) = (elmt_scale * ((elmt_alpha * (elmt_ymax - elmt_y)) - (elmt_rscon * elmt_ip3con * elmt_vatp_s * (elmt_y - elmt_atp) * ((elmt_ip3 - elmt_ip3min) / (elmt_krel + elmt_ip3)))));
        elmt_ro_amount = (elmt_atp / (elmt_kr + elmt_atp)) * elmt_cell;
        der(elmt_x_amount / elmt_cell) = (((elmt_ax * elmt_e) + (elmt_f * (elmt_yo - elmt_rs)) + (elmt_g * Functions.pow(elmt_x, 2.0) * elmt_e)) - (elmt_dxx * elmt_x));
        elmt_ca_amount = (elmt_p1 + ((elmt_p2 * Functions.pow(elmt_ip3, elmt_m)) / (Functions.pow(elmt_p3, elmt_m) + Functions.pow(elmt_ip3, elmt_m))) + ((elmt_p4 * Functions.pow(elmt_ip3, elmt_n)) / (Functions.pow(elmt_p5, elmt_n) + Functions.pow(elmt_ip3, elmt_n)))) * elmt_cell;
        elmt_kg_amount = (elmt_kd / elmt_ka) * elmt_cell;
        der(elmt_ip3_amount / elmt_cell) = (elmt_scale * ((elmt_rhstar * elmt_gstar) - (elmt_kdeg * elmt_ip3)));
        der(elmt_r_amount / elmt_cell) = (((elmt_px * ((elmt_rt - elmt_rs) - elmt_r) * elmt_x) / (elmt_qx + ((elmt_rt - elmt_rs) - elmt_r) + elmt_x)) - (elmt_ps * (elmt_yo - elmt_rs) * elmt_r));
        elmt_delta_amount = ((elmt_kg * elmt_kdeg * elmt_ip30) / (elmt_rhstar - (elmt_kdeg * elmt_ip30))) * elmt_cell;

    algorithm
        elmt_gstar_conc := elmt_gstar_amount / elmt_cell;
        elmt_ad_conc := elmt_ad_amount / elmt_cell;
        elmt_rs_conc := elmt_rs_amount / elmt_cell;
        elmt_ip3con_conc := elmt_ip3con_amount / elmt_cell;
        elmt_e_conc := elmt_e_amount / elmt_cell;
        elmt_atp_conc := elmt_atp_amount / elmt_cell;
        elmt_d_conc := elmt_d_amount / elmt_cell;
        elmt_rscon_conc := elmt_rscon_amount / elmt_cell;
        elmt_y_conc := elmt_y_amount / elmt_cell;
        elmt_ro_conc := elmt_ro_amount / elmt_cell;
        elmt_x_conc := elmt_x_amount / elmt_cell;
        elmt_ca_conc := elmt_ca_amount / elmt_cell;
        elmt_kg_conc := elmt_kg_amount / elmt_cell;
        elmt_ip3_conc := elmt_ip3_amount / elmt_cell;
        elmt_r_conc := elmt_r_amount / elmt_cell;
        elmt_delta_conc := elmt_delta_amount / elmt_cell;
end Class_elmt_cell;

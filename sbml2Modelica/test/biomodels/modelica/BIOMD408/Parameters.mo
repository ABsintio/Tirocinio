within BIOMD408;
class Parameters

    input Real elmt_PCri;
    input Real elmt_Cr;
    input Real elmt_PCr;
    input Real elmt_P_ii;
    input Real elmt_ATP;
    input Real elmt_ADP;
    input Real elmt_ATPi;
    input Real elmt_ADPi;
    input Real elmt_P_i;
    input Real elmt_Cri;

    input Boolean elmt_event2;    input Boolean elmt_event1;    input Boolean elmt_event0;
    input Real assign_elmt_last_time_fired;
    input Real assign_elmt_Jhyd;
    input Real assign_elmt_heartrate_bpm;
    input Real assign_elmt_tmito_factor;


    Real elmt_ck_factor_ia(unit = "") "ck_factor_ia";
    Real elmt_phase(unit = "") "";
    Real elmt_KidMi(unit = "m-3.0.") "";
    Real elmt_heartrate_basis(unit = "s-1.0") "";
    Real elmt_KibMi(unit = "m-3.0.") "";
    Real elmt_VhydAmp_basis(unit = "m-3.0..s-1.0") "";
    Real elmt_PSmomPi(unit = "s-1.0") "PSmomPi";
    Real elmt_VmaxMif(unit = "m-3.0..s-1.0") "";
    Real elmt_tmito(unit = "") "";
    Real elmt_VmaxMib(unit = "m-3.0..s-1.0") "";
    Real elmt_j_diff_adp(unit = "m-3.0..s-1.0") "";
    Real elmt_last_time_fired(unit = "") "";
    Real elmt_KibMM(unit = "m-3.0.") "";
    Real elmt_Jhyd(unit = "m-3.0..s-1.0") "Jhyd";
    Real elmt_KidMM(unit = "m-3.0.") "";
    Real elmt_vatpnorm(unit = "") "";
    Real elmt_j_diff_pi(unit = "m-3.0..s-1.0") "";
    Real elmt_PSmomCr(unit = "s-1.0") "PSmomCr";
    Real elmt_j_diff_cr(unit = "m-3.0..s-1.0") "";
    Real elmt_heartrate_bpm(unit = "s-1.0") "";
    Real elmt_j_diff_atp(unit = "m-3.0..s-1.0") "";
    Real elmt_VmaxMif_full_activity(unit = "m-3.0..s-1.0") "";
    Real elmt_KdMM(unit = "m-3.0.") "";
    Real elmt_r_diff_pcr(unit = "") "";
    Real elmt_stepsize(unit = "") "";
    Real elmt_KbMM(unit = "m-3.0.") "";
    Real elmt_Jhyd_test(unit = "m-3.0..s-1.0") "Jhyd_test";
    Real elmt_fracSysUp(unit = "") "";
    Real elmt_Kadp(unit = "m-3.0.") "Kadp";
    Real elmt_VmaxMMf(unit = "m-3.0..s-1.0") "";
    Real elmt_KicMi(unit = "m-3.0.") "";
    Real elmt_PSmomPCr(unit = "s-1.0") "PSmomPCr";
    Real elmt_jsyn(unit = "m-3.0..s-1.0") "";
    Real elmt_fracDia(unit = "") "";
    Real elmt_VmaxMMb(unit = "m-3.0..s-1.0") "";
    Real elmt_KdMi(unit = "m-3.0.") "";
    Real elmt_fracSysDown(unit = "") "";
    Real elmt_KbMi(unit = "m-3.0.") "";
    Real elmt_ck_factor_iaa(unit = "") "ck_factor_iaa";
    Real elmt_tmito_factor(unit = "") "tmito_factor";
    Real elmt_densyn(unit = "") "";
    Real elmt_Kpi(unit = "m-3.0.") "Kpi";
    Real elmt_KiaMi(unit = "m-3.0.") "";
    Real elmt_Vmaxsyn(unit = "m-3.0..s-1.0") "Vmaxsyn";
    Real elmt_VmaxMMf_full_activity(unit = "m-3.0..s-1.0") "";
    Real elmt_VhydAmp_test(unit = "m-3.0..s-1.0") "";
    Real elmt_heartrate_test(unit = "s-1.0") "";
    Real elmt_time_Jhyd_step(unit = "") "time_Jhyd_step";
    Real elmt_Jhyd_basis(unit = "m-3.0..s-1.0") "Jhyd_basis";
    Real elmt_PSmomATP(unit = "s-1.0") "PSmomATP";
    Real elmt_KiaMM(unit = "m-3.0.") "";
    Real elmt_KicMM(unit = "m-3.0.") "";
    Real elmt_j_ck_mm(unit = "m-3.0..s-1.0") "j_ck_mm";
    Real elmt_K_CK_eq(unit = "") "K_CK_eq";
    Real elmt_j_ck_mi(unit = "m-3.0..s-1.0") "j_ck_mi";
    Real elmt_j_diff_pcr(unit = "m-3.0..s-1.0") "";
    Real elmt_pulsatility(unit = "") "pulsatility";


    initial equation
        elmt_ck_factor_ia = 0.0286;
        elmt_KidMi = 1600.0;
        elmt_heartrate_basis = 135.0;
        elmt_KibMi = 28800.0;
        elmt_PSmomPi = 194.0;
        elmt_tmito = 0.0;
        elmt_last_time_fired = 0.0;
        elmt_KibMM = 34900.0;
        elmt_Jhyd = 486.5;
        elmt_KidMM = 4730.0;
        elmt_PSmomCr = 155.0;
        elmt_heartrate_bpm = 135.0;
        elmt_VmaxMif_full_activity = 882.0756;
        elmt_KdMM = 1670.0;
        elmt_stepsize = 0.001;
        elmt_KbMM = 15500.0;
        elmt_Jhyd_test = 627.6;
        elmt_fracSysUp = 0.1666666666;
        elmt_Kadp = 25.0;
        elmt_KicMi = 204.8;
        elmt_PSmomPCr = 155.0;
        elmt_KdMi = 500.0;
        elmt_fracSysDown = 0.1666666666;
        elmt_KbMi = 5200.0;
        elmt_ck_factor_iaa = 1.0;
        elmt_tmito_factor = 0.0;
        elmt_Kpi = 800.0;
        elmt_KiaMi = 750.0;
        elmt_Vmaxsyn = 1503.74;
        elmt_VmaxMMf_full_activity = 11441.78;
        elmt_heartrate_test = 220.0;
        elmt_time_Jhyd_step = 40.0;
        elmt_Jhyd_basis = 486.5;
        elmt_PSmomATP = 13.29477;
        elmt_KiaMM = 900.0;
        elmt_KicMM = 222.4;
        elmt_K_CK_eq = 152.0;
        elmt_pulsatility = 1.0;


    equation
        der(elmt_ck_factor_ia) = 0;
        elmt_phase = ((abs((time - elmt_time_Jhyd_step)) - ((floor((abs((time - elmt_time_Jhyd_step)) / (60.0 / elmt_heartrate_bpm))) * 60.0) / elmt_heartrate_bpm)) / (60.0 / elmt_heartrate_bpm));
        der(elmt_KidMi) = 0;
        der(elmt_heartrate_basis) = 0;
        der(elmt_KibMi) = 0;
        elmt_VhydAmp_basis = ((2.0 * elmt_Jhyd_basis) / (elmt_fracSysUp + elmt_fracSysDown));
        der(elmt_PSmomPi) = 0;
        elmt_VmaxMif = (elmt_VmaxMif_full_activity * elmt_ck_factor_iaa);
        der(elmt_tmito) = elmt_vatpnorm;
        elmt_VmaxMib = ((elmt_K_CK_eq * elmt_KicMi * elmt_KdMi * elmt_VmaxMif) / (elmt_KiaMi * elmt_KbMi));
        elmt_j_diff_adp = (elmt_PSmomATP * (elmt_ADPi - elmt_ADP));
        der(elmt_last_time_fired) = 0.0;
        der(elmt_KibMM) = 0;
        der(elmt_Jhyd) = 0.0;
        der(elmt_KidMM) = 0;
        elmt_vatpnorm = (elmt_tmito_factor * ((elmt_Jhyd_test - elmt_jsyn) / (elmt_Jhyd_test - elmt_Jhyd_basis)));
        elmt_j_diff_pi = (elmt_PSmomPi * (elmt_P_ii - elmt_P_i));
        der(elmt_PSmomCr) = 0;
        elmt_j_diff_cr = (elmt_PSmomCr * (elmt_Cri - elmt_Cr));
        der(elmt_heartrate_bpm) = 0.0;
        elmt_j_diff_atp = (elmt_PSmomATP * (elmt_ATPi - elmt_ATP));
        der(elmt_VmaxMif_full_activity) = 0;
        der(elmt_KdMM) = 0;
        elmt_r_diff_pcr = (elmt_j_diff_pcr / (elmt_j_diff_pcr + elmt_j_diff_atp));
        der(elmt_stepsize) = 0;
        der(elmt_KbMM) = 0;
        der(elmt_Jhyd_test) = 0;
        der(elmt_fracSysUp) = 0;
        der(elmt_Kadp) = 0;
        elmt_VmaxMMf = (elmt_VmaxMMf_full_activity * elmt_ck_factor_iaa);
        der(elmt_KicMi) = 0;
        der(elmt_PSmomPCr) = 0;
        elmt_jsyn = (elmt_Vmaxsyn * ((elmt_ADPi * elmt_P_ii) / (elmt_Kpi * elmt_Kadp * elmt_densyn)));
        elmt_fracDia = ((1.0 - elmt_fracSysUp) - elmt_fracSysDown);
        elmt_VmaxMMb = ((elmt_K_CK_eq * elmt_KicMM * elmt_KdMM * elmt_VmaxMMf) / (elmt_KiaMM * elmt_KbMM));
        der(elmt_KdMi) = 0;
        der(elmt_fracSysDown) = 0;
        der(elmt_KbMi) = 0;
        der(elmt_ck_factor_iaa) = 0;
        der(elmt_tmito_factor) = 0.0;
        elmt_densyn = (1.0 + (elmt_ADPi / elmt_Kadp) + (elmt_P_ii / elmt_Kpi) + ((elmt_ADPi * elmt_P_ii) / (elmt_Kadp * elmt_Kpi)));
        der(elmt_Kpi) = 0;
        der(elmt_KiaMi) = 0;
        der(elmt_Vmaxsyn) = 0;
        der(elmt_VmaxMMf_full_activity) = 0;
        elmt_VhydAmp_test = ((2.0 * elmt_Jhyd_test) / (elmt_fracSysUp + elmt_fracSysDown));
        der(elmt_heartrate_test) = 0;
        der(elmt_time_Jhyd_step) = 0;
        der(elmt_Jhyd_basis) = 0;
        der(elmt_PSmomATP) = 0;
        der(elmt_KiaMM) = 0;
        der(elmt_KicMM) = 0;
        elmt_j_ck_mm = ((((elmt_VmaxMMf * elmt_ATP * elmt_Cr) / (elmt_KiaMM * elmt_KbMM)) - ((elmt_VmaxMMb * elmt_ADP * elmt_PCr) / (elmt_KicMM * elmt_KdMM))) / (1.0 + (elmt_Cr / elmt_KibMM) + (elmt_PCr / elmt_KidMM) + (elmt_ATP * ((1.0 / elmt_KiaMM) + (elmt_Cr / (elmt_KiaMM * elmt_KbMM)))) + (elmt_ADP * ((1.0 / elmt_KicMM) + (elmt_Cr / (elmt_KicMM * elmt_KibMM)) + (elmt_PCr / (elmt_KidMM * ((elmt_KicMM * elmt_KdMM) / elmt_KidMM)))))));
        der(elmt_K_CK_eq) = 0;
        elmt_j_ck_mi = ((((elmt_VmaxMif * elmt_ATPi * elmt_Cri) / (elmt_KiaMi * elmt_KbMi)) - ((elmt_VmaxMib * elmt_ADPi * elmt_PCri) / (elmt_KicMi * elmt_KdMi))) / (1.0 + (elmt_Cri / elmt_KibMi) + (elmt_PCri / elmt_KidMi) + (elmt_ATPi * ((1.0 / elmt_KiaMi) + (elmt_Cri / (elmt_KiaMi * elmt_KbMi)))) + (elmt_ADPi * ((1.0 / elmt_KicMi) + (elmt_Cri / (elmt_KicMi * elmt_KibMi)) + (elmt_PCri / (elmt_KidMi * ((elmt_KicMi * elmt_KdMi) / elmt_KidMi)))))));
        elmt_j_diff_pcr = (elmt_PSmomPCr * (elmt_PCri - elmt_PCr));
        der(elmt_pulsatility) = 0;

        when elmt_event2 then
            reinit(elmt_Jhyd, assign_elmt_Jhyd);
            reinit(elmt_heartrate_bpm, assign_elmt_heartrate_bpm);
            reinit(elmt_tmito_factor, assign_elmt_tmito_factor);
        end when;
        when elmt_event1 then
            reinit(elmt_last_time_fired, assign_elmt_last_time_fired);
            reinit(elmt_Jhyd, assign_elmt_Jhyd);
        end when;
        when elmt_event0 then
            reinit(elmt_last_time_fired, assign_elmt_last_time_fired);
            reinit(elmt_Jhyd, assign_elmt_Jhyd);
        end when;
end Parameters;

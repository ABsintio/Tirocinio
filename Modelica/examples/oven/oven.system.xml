<?xml version="1.0" encoding="UTF-8"?>
<dae xmlns:p1="http://www.w3.org/1998/Math/MathML"
                                                xmlns:xlink="http://www.w3.org/1999/xlink"
                                                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                                                xsi:noNamespaceSchemaLocation="http://home.dei.polimi.it/donida/Projects/AutoEdit/Images/DAE.xsd">
<variables dimension="21">
<orderedVariables dimension="8">
<variablesList>
<variable id="1" name="d" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="2" name="monitorr.z" variability="discrete" direction="none" type="Boolean" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="3" name="monitorr.y" variability="discrete" direction="none" type="Boolean" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="4" name="plantt.x" variability="continuousState" direction="none" type="Real" differentiatedIndex="1" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="5" name="ctr.sensor" variability="discrete" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="6" name="ctr.u" variability="discrete" direction="none" type="Integer" fixed="false" flow="NonConnector" stream="NonStreamConnector">
</variable>
<variable id="7" name="$whenCondition2" variability="discrete" direction="none" type="Boolean" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="monitorr.z and not pre(monitorr.z)">
<attributesValues>
<fixed string="true">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<true/>
</apply>
</math>
</MathML>
</fixed>
</attributesValues>
</variable>
<variable id="8" name="$whenCondition1" variability="discrete" direction="none" type="Boolean" fixed="true" flow="NonConnector" stream="NonStreamConnector" comment="sample(1, 0.0, ctr.T)">
<attributesValues>
<fixed string="true">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<true/>
</apply>
</math>
</MathML>
</fixed>
</attributesValues>
</variable>
</variablesList>
</orderedVariables>
<knownVariables dimension="9">
<variablesList>
<variable id="1" name="ctr.Delta" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="0.4">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.4 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="2" name="ctr.LoVal" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="350.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 350.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="3" name="ctr.HiVal" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="450.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 450.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="4" name="ctr.k.HiTval" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="500.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 500.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="5" name="ctr.k.LoTval" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="300.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 300.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="6" name="ctr.T" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="0.1">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.1 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="7" name="plantt.x0" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="400.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 400.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="8" name="plantt.a" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="10.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 10.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="9" name="plantt.b" variability="parameter" direction="none" type="Real" fixed="true" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="1.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 1.0 
</cn>
</math>
</MathML>
</bindExpression>
</variable>
</variablesList>
</knownVariables>
<aliasVariables dimension="4">
<variablesList>
<variable id="1" name="monitorr.x" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="plantt.x">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> plantt.x 
</ci>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="2" name="ctr.x" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="plantt.x">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> plantt.x 
</ci>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="3" name="plantt.u" variability="discrete" direction="none" type="Integer" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="ctr.u">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> ctr.u 
</ci>
</math>
</MathML>
</bindExpression>
</variable>
<variable id="4" name="plantt.d" variability="continuous" direction="none" type="Real" fixed="false" flow="NonConnector" stream="NonStreamConnector">
<bindExpression string="d">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> d 
</ci>
</math>
</MathML>
</bindExpression>
</variable>
</variablesList>
</aliasVariables>
</variables>
<equations dimension="7">
<whenEquation id="1">
<WhenOperator>
ctr.u := if ctr.sensor &lt;= 399.0 then 1 else if ctr.sensor &gt;= 401.0 then 0 else pre(ctr.u)
</WhenOperator>
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> ctr.u 
</ci>
<apply>
<piecewise>
<piece>
<cn type="integer"> 1 
</cn>
<apply>
<leq/>
<ci> ctr.sensor 
</ci>
<cn type="real"> 399.0 
</cn>
</apply>
</piece>
<otherwise>
<apply>
<piecewise>
<piece>
<cn type="integer"> 0 
</cn>
<apply>
<geq/>
<ci> ctr.sensor 
</ci>
<cn type="real"> 401.0 
</cn>
</apply>
</piece>
<otherwise>
<apply>
<pre/>
<ci> ctr.u 
</ci>
</apply>
</otherwise>
</piecewise>
</apply>
</otherwise>
</piecewise>
</apply>
</apply>
</math>
</MathML>
<whenEquationCondition>
$whenCondition1
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> $whenCondition1 
</ci>
</math>
</MathML>
</whenEquationCondition>
</whenEquation>
<whenEquation id="2">
<WhenOperator>
ctr.sensor := oven.ad(0.4, 350.0, 450.0, plantt.x)
</WhenOperator>
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> ctr.sensor 
</ci>
<apply>
<oven.ad/>
<cn type="real"> 0.4 
</cn>
<cn type="real"> 350.0 
</cn>
<cn type="real"> 450.0 
</cn>
<ci> plantt.x 
</ci>
</apply>
</apply>
</math>
</MathML>
<whenEquationCondition>
$whenCondition1
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> $whenCondition1 
</ci>
</math>
</MathML>
</whenEquationCondition>
</whenEquation>
<equation id="3">d = 200.0 * sin(6.28 * time)
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> d 
</ci>
<apply>
<times/>
<cn type="real"> 200.0 
</cn>
<apply>
<sin/>
<apply>
<times/>
<cn type="real"> 6.28 
</cn>
<ci> time 
</ci>
</apply>
</apply>
</apply>
</apply>
</math>
</MathML>
</equation>
<algorithm id="4">algorithm
  $whenCondition2 := monitorr.z and not pre(monitorr.z);
  when $whenCondition2 then
    monitorr.y := true;
  end when;

</algorithm>
<equation id="5">monitorr.z = plantt.x &gt;= 405.0 or plantt.x &lt;= 395.0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> monitorr.z 
</ci>
<apply>
<or/>
<apply>
<geq/>
<ci> plantt.x 
</ci>
<cn type="real"> 405.0 
</cn>
</apply>
<apply>
<leq/>
<ci> plantt.x 
</ci>
<cn type="real"> 395.0 
</cn>
</apply>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="6">der(plantt.x) = /*Real*/(ctr.u) * plantt.a + d - plantt.b
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<diff/>
<ci> plantt.x 
</ci>
</apply>
<apply>
<plus/>
<apply>
<times/>
<apply>
<real/>
<ci> ctr.u 
</ci>
</apply>
<ci> plantt.a 
</ci>
</apply>
<apply>
<minus/>
<ci> d 
</ci>
<ci> plantt.b 
</ci>
</apply>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="7">$whenCondition1 = sample(1, 0.0, ctr.T)
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> $whenCondition1 
</ci>
<apply>
<sample/>
<cn type="integer"> 1 
</cn>
<cn type="real"> 0.0 
</cn>
<ci> ctr.T 
</ci>
</apply>
</apply>
</math>
</MathML>
</equation>
</equations>
<initialEquations dimension="6">
<equation id="1">ctr.u = 0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> ctr.u 
</ci>
<cn type="integer"> 0 
</cn>
</apply>
</math>
</MathML>
</equation>
<equation id="2">pre(ctr.u) = 0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<pre/>
<ci> ctr.u 
</ci>
</apply>
<cn type="integer"> 0 
</cn>
</apply>
</math>
</MathML>
</equation>
<equation id="3">plantt.x = plantt.x0
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> plantt.x 
</ci>
<ci> plantt.x0 
</ci>
</apply>
</math>
</MathML>
</equation>
<equation id="4">monitorr.y = false
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> monitorr.y 
</ci>
<apply>
<false/>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="5">monitorr.z = false
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<ci> monitorr.z 
</ci>
<apply>
<false/>
</apply>
</apply>
</math>
</MathML>
</equation>
<equation id="6">pre(monitorr.z) = false
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<equivalent/>
<apply>
<pre/>
<ci> monitorr.z 
</ci>
</apply>
<apply>
<false/>
</apply>
</apply>
</math>
</MathML>
</equation>
</initialEquations>
<SamplesList dimension="1">
<SamplesElement>
<index value="1">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.0 
</cn>
</math>
</MathML>
</index>
<start string="0.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<cn type="real"> 0.0 
</cn>
</math>
</MathML>
</start>
<interval string="ctr.T">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<ci> ctr.T 
</ci>
</math>
</MathML>
</interval>
</SamplesElement>
</SamplesList>
<zeroCrossingList dimension="1">
<zeroCrossingElement string="plantt.x &gt;= 405.0 or plantt.x &lt;= 395.0">
<MathML>
<math xmlns="http://www.w3.org/1998/Math/MathML">
<apply>
<or/>
<apply>
<geq/>
<ci> plantt.x 
</ci>
<cn type="real"> 405.0 
</cn>
</apply>
<apply>
<leq/>
<ci> plantt.x 
</ci>
<cn type="real"> 395.0 
</cn>
</apply>
</apply>
</math>
</MathML>
<involvedEquations>
<equationId>
5
</equationId>
</involvedEquations>
</zeroCrossingElement>
</zeroCrossingList>
<functions>
<function name="oven.ad">
<ModelicaImplementation>function(Delta :: Real * LoVal :: Real * HiVal :: Real * x :: Real) =&gt; Real.oven.adfunction oven.ad&quot;Inline if necessary&quot;
  input Real Delta;
  input Real LoVal;
  input Real HiVal;
  input Real x;
  output Real y;
algorithm
  if x &lt;= LoVal then
    y := LoVal;
  else
    if x &gt;= HiVal then
      y := HiVal;
    else
      y := Delta * floor(0.5 + x / Delta);
    end if;
  end if;
end oven.ad;


</ModelicaImplementation>
</function>
</functions>
</dae>